【需求背景】

我需要做一个浏览器分屏工具，通过子窗口管理页面添加和管理多个子窗口，在主界面分屏显示各子窗口的网页内容，支持全屏展示单个子窗口。

【项目架构】

客户端系统
- 子窗口管理模块：添加、删除、编辑子窗口
- 主界面显示模块：分屏显示子窗口网页内容
- 全屏显示模块：单个子窗口全屏展示

【技术栈】

| 层  | 技术栈            |
| --- | ----------------- |
| app | Qt 6.9.1、sqlite3 |

【用户需求】

1、开发一个软件，通过子窗口管理页面添加和管理多个子窗口，每个子窗口包含网址和名称配置；

2、首次登录时，需要用户登录用户名和密码，登陆成功后，浏览器会记住用户名和密码；

3、打开每个子窗口时，如果用户已经登录过了，会自动进入；

4、应用程序的主页中，展示子窗口的数量可以自己设置，比如有独立1窗口，2窗口，4窗口，6窗口，9窗口，12窗口，16窗口；

5、主界面只显示子窗口的网页内容，不显示浏览器的菜单栏、工具栏等，每个子窗口显示其名称；

6、点击一个子窗口，可以将该子窗口单独全屏显示。

【需求明细】

## 功能需求

### 1. 用户认证模块

- **登录功能**：支持用户名密码登录
- **记住登录状态**：登录成功后自动保存用户凭据
- **自动登录**：下次启动时自动登录（如果用户选择记住）
- **登出功能**：支持用户主动登出

### 2. 子窗口管理

- **子窗口添加**：通过管理页面添加子窗口，配置网址和名称
- **子窗口删除**：支持删除不需要的子窗口
- **子窗口编辑**：支持修改子窗口的网址和名称
- **子窗口列表**：以表格形式展示所有子窗口信息

### 3. 主界面显示

- **多窗口布局**：支持1、2、4、6、9、12、16窗口布局
- **动态布局切换**：用户可随时切换窗口数量
- **纯网页显示**：只显示网页内容，不显示浏览器UI
- **窗口名称显示**：每个子窗口显示其配置的名称

### 4. 网页浏览功能

- **网页加载**：每个子窗口独立加载网页
- **网址记录**：自动记录每个窗口的访问网址
- **历史记录**：保存浏览历史
- **书签管理**：支持网址收藏功能

### 5. 全屏显示

- **单窗口全屏**：点击子窗口可全屏显示
- **退出全屏**：支持ESC键或按钮退出全屏
- **全屏状态保持**：全屏时保持网页状态

## 技术需求

### 1. 开发环境

- **Qt版本**：Qt 6.9.1
- **数据库**：SQLite3
- **编译器**：支持C++17标准
- **平台**：跨平台支持（Windows、macOS、Linux）

### 2. 核心组件

- **QWebEngineView**：用于网页渲染（只显示网页内容，隐藏浏览器UI）
- **QGridLayout**：用于窗口布局管理
- **QSqlDatabase**：用于数据库操作
- **QSettings**：用于配置存储
- **QTableWidget**：用于子窗口管理界面

### 3. 数据库设计

- **用户表**：存储用户信息和登录凭据
- **子窗口表**：存储子窗口名称、网址、创建时间等信息
- **窗口配置表**：存储主界面窗口布局配置
- **历史记录表**：存储浏览历史
- **书签表**：存储收藏的网址

## 界面需求

### 1. 主界面

- **菜单栏**：文件、编辑、视图、工具、帮助
- **工具栏**：常用功能快捷按钮（包含子窗口管理按钮）
- **状态栏**：显示当前状态信息
- **中央区域**：多窗口网页显示区域（网格布局）
- **子窗口标题**：每个子窗口显示其配置的名称

### 2. 子窗口管理界面

- **子窗口列表**：表格形式显示所有子窗口
- **添加按钮**：新增子窗口
- **编辑按钮**：修改子窗口信息
- **删除按钮**：删除选中的子窗口
- **子窗口信息**：显示名称、网址、创建时间等

### 3. 登录界面

- **用户名输入框**
- **密码输入框**
- **记住密码复选框**
- **登录/取消按钮**

### 4. 设置界面

- **窗口布局选择**：1-16窗口选项
- **默认网址设置**：设置各窗口默认网址
- **用户设置**：修改密码等

## 数据需求

### 1. 用户数据

- 用户名（唯一标识）
- 密码（加密存储）
- 登录状态
- 最后登录时间

### 2. 子窗口数据

- 子窗口ID
- 子窗口名称
- 网址
- 创建时间
- 最后访问时间
- 是否启用

### 3. 历史记录

- 访问时间
- 网址
- 标题
- 子窗口ID

## 性能需求

### 1. 响应时间

- 应用启动时间 < 3秒
- 窗口切换响应时间 < 0.5秒
- 网页加载时间 < 5秒（取决于网络）

### 2. 资源占用

- 内存占用 < 500MB（16窗口模式）
- CPU占用 < 30%（正常浏览状态）

## 安全需求

### 1. 数据安全

- 密码加密存储
- 数据库文件访问控制
- 敏感信息本地存储

### 2. 网络安全

- 支持HTTPS协议
- 网页安全策略
- 防止恶意脚本执行

## 兼容性需求

### 1. 浏览器兼容

- 支持现代网页标准
- 兼容主流网站
- 支持JavaScript执行

### 2. 系统兼容

- Windows 10/11
- macOS 10.15+
- Ubuntu 18.04+

## 扩展需求

### 1. 插件支持

- 预留插件接口
- 支持自定义功能扩展

### 2. 主题支持

- 支持深色/浅色主题
- 自定义界面样式
